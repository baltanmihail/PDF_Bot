# Railway vs Microsoft Azure: хостинг приложений, стоимость, доступ из России

Краткое сравнение «удобного хостинга в духе Railway» у Microsoft и альтернатив с учётом стоимости, доступа из РФ, оплаты (в т.ч. через gg.sel), VPN и ограничений по трафику.

---

## 1. Что у Microsoft «как Railway»

У Microsoft нет одного продукта с именем «Railway», но по смыслу ближе всего:

| Сервис Microsoft | Аналог в мире Railway | Суть |
|------------------|------------------------|------|
| **Azure App Service** | Деплой веб-приложения из репозитория, свой URL, масштабирование | Основной «хостинг сайта» в Azure. Есть Free (F1), платные Basic/Premium. |
| **Azure Static Web Apps** | Статика + API (серверные функции) | Бесплатный тариф щедрый (100 GB трафика, несколько приложений). Подходит для статики и лёгких API, не для тяжёлого бэкенда с БД и воркерами. |
| **Azure Container Apps** | Запуск контейнеров (Docker) | Близко к тому, как Railway крутит контейнеры. Оплата по факту использования, без «всегда включённого» бесплатного плана. |
| **Azure Functions** | Серверные функции по событиям | Серверлесс, не «постоянный сайт». Для PDF_Bot как единого веб-приложения не заменяет Railway. |

Для вашего **PDF_Bot** (FastAPI, SQLite, volume, фоновые задачи) ближе всего **Azure App Service** (веб-приложение + возможность тома/хранилища) или **Container Apps** (если деплоить через Docker). У Azure есть и базы (Azure SQL, Cosmos DB), и хранилище (Blob, Files) — аналог «базы + диска» на Railway.

---

## 2. Плюсы и минусы

### Microsoft Azure (App Service / контейнеры)

**Плюсы:**
- Огромная экосистема: БД, очереди, хранилище, CDN, мониторинг в одном портале.
- Интеграция с **Microsoft Graph** и OneDrive «из того же облака» — меньше задержек и настроек, если потом захотите только Graph без Railway.
- Регионы по всему миру, SLA, enterprise-поддержка.
- Бесплатный уровень F1 (для экспериментов): 60 CPU-минут в день, 1 GB RAM, 1 GB диск — **не подходит для 24/7 сайта**, только для тестов.
- Статика (Static Web Apps) — очень выгодный бесплатный тариф (100 GB трафика и т.д.).

**Минусы:**
- Порог входа выше: подписка Azure, ресурсы, роли, политики — сложнее, чем «репо → Railway → готово».
- **Для России:** с 2024 года Microsoft приостановил предоставление облачных сервисов (Azure, в т.ч. App Service) **юридическим лицам и компаниям, зарегистрированным в РФ**, в рамках санкций. То есть «официально от имени российской компании» завести и оплачивать Azure сейчас нельзя. Физлицо из РФ может формально иметь доступ к порталу и подписке, но правила приёма платежей и допуска к сервисам могут ужесточаться.
- Платные планы дороже «маленького Railway»: самый дешёвый нормальный план App Service (B1) — порядка **$13/мес** и выше; Railway Hobby — **$5/мес** + использование.
- Нет такой же простой модели «один проект — один счёт»: в Azure вы платите за каждый ресурс (App Service Plan, хранилище, исходящий трафик и т.д.).

### Railway

**Плюсы:**
- Очень простой деплой: Git → автоматическая сборка и запуск, минимум настроек.
- Прозрачная модель: план от $5/мес, поверх — использование (CPU, RAM, диск, трафик). Для маленького проекта часто укладываетесь в те же $5.
- Volume для постоянного хранения (БД, файлы) — по аналогии с диском.
- Нет явной географической блокировки «из России» на уровне правил сервиса (в отличие от текущей политики Azure в отношении РФ).
- Один интерфейс: сервисы, переменные, логи, метрики в одном месте.

**Минусы:**
- Меньше «корпоративных» сервисов: нет встроенного Azure SQL, Cosmos, сложных сетевых правил и т.д.
- Оплата только картой (international); при блокировках со стороны банков/эмитентов из РФ возможны сложности без VPN или карт других стран.
- Зависимость от одной платформы: если Railway изменит тарифы или политику — придётся мигрировать.

---

## 3. Стоимость (кратко)

| | Railway | Azure (типичный минимум для 24/7) |
|--|--------|-----------------------------------|
| **Минимум за «живой» сайт** | Hobby $5/мес + использование (часто укладываетесь в $5) | App Service B1 ~**$13/мес** и выше (F1 — только 60 мин CPU/день, не 24/7) |
| **Volume / диск** | ~$0.15/GB/мес | Отдельно хранилище (Blob/Files) или в составе плана |
| **Трафик** | Учитывается в общем использовании | Исходящий трафик часто платный после порога |
| **Бесплатно 24/7** | Нет (после trial только платные планы) | Нет: F1 не для продакшена, Static Web Apps — для статики/лёгких API, не для полноценного бэкенда с БД и воркерами |

Для вашего PDF_Bot (веб-приложение + SQLite + volume + фоновые задачи) типичный сценарий:
- **Railway:** Hobby $5/мес + объём и трафик (у вас уже так и есть).
- **Azure:** минимум App Service B1 (~$13/мес) плюс при необходимости хранилище; дешевле только если использовать только Static Web Apps (для вашего стека не подходит как полная замена).

---

## 4. Доступность из России

### Microsoft Azure

- **Юрлица/компании в РФ:** с 2024 года Microsoft приостановил предоставление облачных сервисов (в т.ч. Azure) таким клиентам. Новые контракты и продление для российских компаний недоступны в рамках текущей политики.
- **Физлица:** формально портал и подписка могут быть доступны при регистрации с учётом правил Microsoft (страна, способ оплаты). На практике привязка к стране и платёжным реквизитам может блокировать или ограничивать использование из РФ.
- **Оплата:** классически — международные карты (Visa/Mastercard), привязанные к счёту не из РФ, или партнёры/реселлеры. Прямая оплата рублёвой картой РФ через портал Azure часто недоступна или нестабильна.

### Railway

- Официальной блокировки «по стране Россия» нет. Регистрация и оплата — по карте (как правило, международной).
- Из РФ часто возможно: оплата картой российского банка (зависит от эмитента и правил банка по международным платежам). При отказе банка иногда помогают VPN (чтобы запрос пошёл «из другой страны») или карты других юрисдикций.
- Доступ к сайту railway.app и дашборду из России обычно не блокируется; при блокировках на уровне провайдера — VPN решает.

### Покупка подписки через посредников (gg.sel и аналоги)

- **gg.sel** и похожие сервисы продают ключи/подписки (игры, софт, иногда облака). Для **Azure** так купить «официальную подписку Azure» напрямую от Microsoft обычно нельзя: Azure привязывается к учётной записи Microsoft и способу оплаты. Реселлеры чаще продают лицензии на продукты Microsoft (Office, Windows), а не подписку на Azure с вашим биллингом.
- Для **Railway** подписку через gg.sel тоже вряд ли купишь: оплата только через свой аккаунт и карту на railway.app.
- Итог: для облачного хостинга (и Azure, и Railway) расчёт обычно на **собственную карту** (или карту друга/родственника из другой страны) и при необходимости VPN.

---

## 5. VPN: нужен ли и когда

- **Доступ к порталу/дашборду из РФ**
  - **Azure:** портал может быть доступен и без VPN; при блокировках провайдера — VPN помогает.
  - **Railway:** то же самое.
- **Оплата**
  - Иногда банки РФ блокируют или отклоняют списание в долларах/евро у зарубежных сервисов. В таких случаях оплата **через VPN** (трафик уходит «из другой страны») иногда повышает шанс успешного списания. Гарантий нет — зависит от банка и правил эмитента.
- **Трафик «из РФ» к вашему приложению**
  - И **Azure**, и **Railway** не блокивают по умолчанию запросы из России к вашему приложению. То есть пользователи из РФ могут ходить на ваш сайт без VPN.
  - Если в будущем какой-то провайдер (или вы через настройки файрвола) начнёт резать трафик по гео — это уже отдельная конфигурация, а не общее правило для Azure/Railway.

Кратко: **VPN чаще всего нужен только для доступа к сайту/порталy или для оплаты**, если у вас блокируют международные платежи. Для работы самого приложения и заходов пользователей из России VPN не обязателен.

---

## 6. Ограничение трафика из РФ

- На стороне **Railway** и **Azure** нет политики «блокировать или ограничивать только трафик из России». Ограничения связаны с:
  - **Azure:** допуск к сервисам для клиентов из РФ (юрлица отключены; физлица — по правилам Microsoft и платежам).
  - **Railway:** общие лимиты тарифа и использование (трафик, CPU, память), без привязки к стране пользователя.
- Если ограничения по трафику из РФ появятся, они будут со стороны **провайдера в России** (блокировка доменов Azure/Railway и т.п.). Тогда доступ к вашему приложению из РФ может потребовать VPN у пользователей; настройки самого облака это не меняют.

---

## 7. Практический вывод для вашего случая

- **По удобству «как Railway»:** у Microsoft это в первую очередь **Azure App Service** (или Container Apps при деплое через Docker). Настройка сложнее, но экосистема больше; для PDF_Bot с Graph/OneDrive теоретически «всё в одном облаке».
- **По стоимости:** для небольшого 24/7-приложения **Railway обычно дешевле** (план $5 и использование), чем минимальный платный Azure App Service (~$13/мес и выше).
- **По России:** **Azure** для юрлиц в РФ недоступен; для физлиц — неочевидно и зависит от платежей и правил. **Railway** формально не запрещён для пользователей из РФ; оплата картой из России часто проходит, при проблемах пробуют VPN.
- **По оплате через gg.sel:** ни Azure, ни Railway нормально не покупаются «ключом» через такие площадки; нужна своя подписка и карта.
- **По VPN:** полезен для доступа к порталу и иногда для оплаты; для работы сайта и заходов пользователей из РФ не обязателен.

Если цель — минимум затрат и простота при текущей доступности из России, **Railway остаётся более простым и предсказуемым вариантом**. Azure имеет смысл рассматривать, если вы готовы платить больше, нужна глубокая интеграция с экосистемой Microsoft и у вас есть стабильный способ оплаты (например, карта не из РФ).
